---
title: Economic Predictors of House Incumbent Vote Share
author: Vivian Nguyen
date: '2022-09-19'
slug: []
categories: []
tags: []
---

This is blog post #2 in a series of analytical posts in lieu of the 2022 midterms. This post is affiliated with Gov 1347: Election Analytics, a course at Harvard University in the department of Government.

---

```{r, echo = FALSE, results='hide',fig.keep='all', message=FALSE}

## Set up

knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)

library(tidyverse)
library(car)
require(tidyverse)
require(ggplot2)
require(sf)

popvote <- read_csv('house_popvote_seats.csv') 
GDP_quarterly <- read_csv('GDP_quarterly.csv')
CPI_monthly <- read_csv("CPI_monthly.csv")
RDI_monthly <- read_csv("RDI_monthly.csv")
RDI_quarterly <- read_csv("RDI_quarterly.csv")
UE_national_quarterly <- read_csv("unemployment_national_quarterly_final.csv")
UE_state_monthly <- read_csv("unemployment_state_monthly.csv")

```

**Blog Extension: Model Evaluation. Build multiple predictive models using national economic variables as predictors. Compare those models using the tools we learned today. How much is your 2022 prediction sensitive to the change of measure(s)? What does it tell us about the economic model of voting behavior?**

Last week, my dive into the 2018 election results and swings confirmed that the president's party often performs poorly in the midterms. By the 2020 House elections, the president's party gained some of its vote share back. 

This week, I temporarily move away from cyclical election study to delve into one of the most promising ways to predict election outcomes -- economics. Retrospective voting, a model of voting in which voters elect leaders based off of recent experiences and judgment of welfare under incumbent leadership, dictates that for many elections, the results largely rely on the state of the economy in the last quarter of the election cycle (Achen & Bartels, 2017). For presidential elections, this means that national economic variables like GDP (gross domestic product), unemployment, and RDI (real disposable income) can account for a lot of the variation in incumbent candidate popularity. **I explore this relationship between national economic variables and incumbent vote share, but for House races from 1948 to 2020. I want to know which variables accurately predict House incumbent party vote share, and build a model accordingly. Lastly, I will test my model with data from 2020 to see how well it would've predicted the last election.** 


 I compare the results of 2016 House election, specifically the House Democratic Party vote share at the state level, to those of the 2018 midterm House election to see the extent to which the common theme of incumbent disadvantage applied to the House election results. I then compare the House Democratic vote share of the 2018 election to the 2020 House election, which saw the election of Joseph R. Biden. **My hope is to identify the trends in House election swings in the Trump era. As we near the 2022 midterms, where the Democratic president's party is campaigning hard to retain House control, it'll be increasingly important to know which states have shown increased support for House Democrats in recent years**

To answer this question, I pulled data about the House party vote shares for 2016, 2018, and 2020. I show 2018-2016 and 2020-2018 comparison maps, which consist of states colored by the quantity $\frac{D_y}{D_y + R_y} - \frac{D_{y - 2}}{D_{y - 2} + R_{y - 2}}$. This quantity is a measure of state swing in Democratic Party vote share for that House election, since the previous one. Below is the 2018-2016 swing map - negative (red) values show a decline in (D) House vote share in a given state since 2016, positive (blue) values show the opposite, and near-zero (white) values represent no change in (D) House vote. 

My analysis confirms that the House elections of the 2018 midterms followed the traditional pattern of the president's party performing rather poorly -- With the exception of Connecticut, Hawaii, Massachusetts, Vermont, and Wyoming, the Democrats gained vote share in every state in comparison to the 2016 House elections. This pattern of president's party disadvantage in midterms has been upheld at an incredibly high rate throughout the 20th and 21st century, and it is expected to hold in this year's midterm elections.

However, this swing against the executive party may reverse by the next House elections, and this was indeed true in 2020.

Unlike the previous swing comparison, the 2020-2018 comparison reveals that most states saw a decline in (D) party vote share in the House elections of 2020. Florida, Georgia, North Carolina, Rhode Island, and Maine were the only states to not see a decline in (D) House vote share. Georgia was an anomaly, and huge victory for the Democrats, in the 2020 elections, where less than 13,000 popular votes (Politico) determined Biden's victory in the electoral college and one House seat was flipped by the Democrats in district 7. Other than these 5 states, the Democrats lost vote share in nearly every state House election the Democrats but clinched the presidency by a decent margin (about 4 percentage points, Cook Political Report).

My dive into the 2018 and 2020 House election results and swings has revealed several observations: (1) Because the president's party has always been known to suffer during midterms, and this tradition remained true in the 2018 midterms, it should be expected that the Democrats see this same poor performance in November. (2) Looking beyond the midterms, Democrats may be relieved to hear that the president's party does seem to get some of their vote share back in House elections by the next general election. We saw that in 2020, House vote shares declined for Democrats in nearly all states. (3) It is important to study swings and temporally relative party performance to see how voters move in preference over different House elections, but it is also very important to study the House elections move in absolute terms -- although observation (2) recognized that the president's party does gain a lot of its lost House vote share back by the general election, 2020 showed us that this gain was ultimately not enough, with the challenger party taking the House, the Senate (by a hair), and the presidency. 


```{r setup, include=FALSE}

## Set up

knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(car)
library(readr)
library(stargazer)

popvote_df <- read_csv('house_popvote_seats.csv') 
GDPquarterly_df <- read_csv('GDP_quarterly.csv')
RDIquarterly_df <- read_csv('RDI_quarterly.csv')
UEquarterly_df <- read_csv('unemployment_national_quarterly_final.csv')
# UE <- read_csv('unemployment_state_monthly.csv')

```

```{r, include = FALSE, message=FALSE}

## Merge predictor and outcome data, filter for just the last Q of the election cycle

results_GDP <- left_join(GDPquarterly_df, popvote_df, by = 'year') %>% 
  drop_na() %>% 
    select('year', 'winner_party', 'H_incumbent_party', 'H_incumbent_party_majorvote_pct', 'quarter_cycle', 'GDP_growth_pct', 'GDP_growth_qt') %>%
    filter(quarter_cycle == 8)  

results_RDI <- left_join(RDIquarterly_df, popvote_df, by = 'year') %>% 
  drop_na() %>% 
    select('year', 'winner_party', 'H_incumbent_party', 'H_incumbent_party_majorvote_pct', 'quarter_cycle', 'DSPIC_change_pct', 'DSPIC_change_qt') %>%
    filter(quarter_cycle == 8) 

UEquarterly_df$UNRATE_change <- 0 

for (index in 1:nrow(UEquarterly_df)){
  if (index != 1)
    UEquarterly_df$UNRATE_change[index] <- UEquarterly_df$UNRATE[index] - UEquarterly_df$UNRATE[index - 1]
}

results_UE <- left_join(UEquarterly_df, popvote_df, by = 'year') %>% 
  drop_na()  %>% 
    select('year', 'winner_party', 'H_incumbent_party', 'H_incumbent_party_majorvote_pct', 'quarter_cycle', 'UNRATE', 
           'unrate_qt_total', 'UNRATE_change') %>%
    filter(quarter_cycle == 4) 

```

```{r, echo=FALSE, eval=TRUE, fig.width=5, fig.height=3, out.width = '60%', fig.align='center'}

## Scatter plots

# GDP vs. House Incumbent Vote Share
results_GDP %>%
  ggplot(aes(x=GDP_growth_pct, y=H_incumbent_party_majorvote_pct,
             label=year)) + 
    geom_text() +
    geom_hline(yintercept=50, lty=2) +
    geom_vline(xintercept=0.00, lty=2) + # median
    xlab("Q8-Q7 GDP growth") +
    ylab("Incumbent party PV") +
    theme_bw() +
    theme(axis.text = element_text(size = 10))

# RDI vs. House Incumbent Vote Share
results_RDI %>%
  ggplot(aes(x=DSPIC_change_pct, y=H_incumbent_party_majorvote_pct,
             label=year)) + 
    geom_text() +
    geom_hline(yintercept=50, lty=2) +
    geom_vline(xintercept=0.00, lty=2) + # median
    xlab("Q8-Q7 DSPIC growth") +
    ylab("Incumbent party PV") +
    theme_bw() +
    theme(axis.text = element_text(size = 10))

# UE vs. House Incumbent Vote Share
results_UE %>%
  ggplot(aes(x=UNRATE, y=H_incumbent_party_majorvote_pct,
             label=year)) + 
    geom_text() +
    geom_hline(yintercept=50, lty=2) +
    geom_vline(xintercept=0.00, lty=2) + # median
    xlab("Q8-Q7 UE rate") +
    ylab("Incumbent party PV") +
    theme_bw() +
    theme(axis.text = element_text(size = 10))

```

## Bivariate correlation of GDP /  and PV

```{r, eval=FALSE}

## Finding correlations

cor(results_GDP$GDP_growth_pct, results_GDP$H_incumbent_party_majorvote_pct)
cor(results_RDI$DSPIC_change_pct, results_RDI$H_incumbent_party_majorvote_pct)
cor(results_UE$UNRATE, results_UE$H_incumbent_party_majorvote_pct)


cor(results_UE$UNRATE, results_UE$year)
cor(results_GDP$GDP_growth_pct, results_GDP$year)

```

## Economy and PV: Fitting a model (STEP 1 \& 2) {.build}

```{r}

newdf <- left_join(results_UE, results_GDP, by = 'year')
newdf <-left_join (newdf, results_RDI, by = 'year') %>%
  select('year', 'winner_party.x', 'H_incumbent_party.x', 'H_incumbent_party_majorvote_pct.x', 'quarter_cycle.x', 'UNRATE', 'GDP_growth_pct', 'DSPIC_change_pct', 'unrate_qt_total', 'DSPIC_change_qt', 'GDP_growth_qt', 'UNRATE_change') %>%
  rename('winner_party' = 'winner_party.x', 'H_incumbent_party_majorvote_pct' = 'H_incumbent_party_majorvote_pct.x', 'quarter_cycle' = 'quarter_cycle.x', 'H_incumbent_party' = 'H_incumbent_party.x')

newdf

```


```{r, echo=TRUE}

lm_GDP <- lm(H_incumbent_party_majorvote_pct ~ GDP_growth_pct, data = newdf)
lm_RDI <- lm(H_incumbent_party_majorvote_pct ~ DSPIC_change_pct, data = newdf)
lm_UE <- lm(H_incumbent_party_majorvote_pct ~ UNRATE, data = newdf)
lm_model <- lm(H_incumbent_party_majorvote_pct ~ GDP_growth_pct + DSPIC_change_pct + GDP_growth_qt + UNRATE, data = newdf)
lm_model_year <- lm(H_incumbent_party_majorvote_pct ~ GDP_growth_pct + DSPIC_change_pct + GDP_growth_qt + UNRATE + year, data = newdf)
stargazer(lm_GDP, lm_RDI, lm_UE, lm_model, lm_model_year, title = "Results", type = "text")

```


## Economy and PV: Fitting a model (STEP 1 \& 2)


```{r, echo=FALSE, fig.width = 8, fig.height=6, out.width = '100%', fig.align='center'}
# GDP plot
newdf %>%
  ggplot(aes(x=GDP_growth_pct, y=H_incumbent_party_majorvote_pct,
             label=year)) + 
    geom_text(size = 8) +
    geom_smooth(method="lm", formula = y ~ x) +
    geom_hline(yintercept=50, lty=2) +
    geom_vline(xintercept=0.01, lty=2) + # median
    xlab("Q8-Q7 GDP growth (X)") +
    ylab("Incumbent party PV (Y)") +
    theme_bw() +
    ggtitle("Y = 52.42 - 0.9118  * X") + 
    theme(axis.text = element_text(size = 20),
          axis.title = element_text(size = 24),
          plot.title = element_text(size = 32))

print(summary(lm_GDP)$coefficients)
print(summary(lm_RDI)$coefficients)
print(summary(lm_UE)$coefficients)


# RDI plot
newdf %>%
  ggplot(aes(x = DSPIC_change_pct, y = H_incumbent_party_majorvote_pct,
             label=year)) + 
    geom_text(size = 8) +
    geom_smooth(method="lm", formula = y ~ x) +
    geom_hline(yintercept=50, lty=2) +
    geom_vline(xintercept=0.01, lty=2) + # median
    xlab("Q8-Q7 RDI growth (X)") +
    ylab("Incumbent party PV (Y)") +
    theme_bw() +
    ggtitle("Y = 52.58 - 0.7964  * X") + 
    theme(axis.text = element_text(size = 20),
          axis.title = element_text(size = 24),
          plot.title = element_text(size = 32))

# UE plot
newdf %>%
  ggplot(aes(x = UNRATE, y = H_incumbent_party_majorvote_pct,
             label=year)) + 
    geom_text(size = 8) +
    geom_smooth(method="lm", formula = y ~ x) +
    geom_hline(yintercept=50, lty=2) +
    geom_vline(xintercept=0.01, lty=2) + # median
    xlab("Q8-Q7 UE (X)") +
    ylab("Incumbent party PV (Y)") +
    theme_bw() +
    ggtitle("Y = 47.48 + 0.7466082  * X") + 
    theme(axis.text = element_text(size = 20),
          axis.title = element_text(size = 24),
          plot.title = element_text(size = 32))

```


# How to evaluate your model (STEP 3)

## Model Fit: $R^2$

```{r}

summary(lm_GDP)$r.squared
summary(lm_RDI)$r.squared
summary(lm_UE)$r.squared
summary(lm_model)$r.squared

```

## Model Fit: in-sample error and MSE


```{r, fig.width=3, fig.height=2, out.width = '30%', fig.align='center'}
# UE
plot(newdf$year, newdf$H_incumbent_party_majorvote_pct, 
     type="l",
     main="true Y (line), predicted Y (dot) for each year")
points(newdf$year, predict(lm_UE, newdf))

# My model
plot(newdf$year, newdf$H_incumbent_party_majorvote_pct, 
     type="l",
     main="true Y (line), predicted Y (dot) for each year")
points(newdf$year, predict(lm_model, newdf))

```

## Model Fit: in-sample error and MSE

We can plot the in-sample error via \textbf{residuals}, which capture the difference between each observed value ($y_i$) and predicted value ($\widehat{y}_i = \hat{A} + \widehat{B}x_i$):

```{r, fig.width=6, fig.height=4, out.width = '70%', fig.align='center'}
# UE
hist(lm_UE$model$H_incumbent_party_majorvote_pct - lm_UE$fitted.values, 
     main="histogram of true Y - predicted Y")
# My model
hist(lm_model$model$H_incumbent_party_majorvote_pct - lm_model$fitted.values,
     main="histogram of true Y - predicted Y")
```

## Model Fit: in-sample error and MSE

We can summarise the error a single number, such as the \textbf{mean-squared error (MSE)}:

```{r}
# GDP
mse_UE <- mean((lm_UE$model$H_incumbent_party_majorvote_pct - lm_UE$fitted.values)^2)
mse_GDP <- mean((lm_GDP$model$H_incumbent_party_majorvote_pct - lm_GDP$fitted.values)^2)
mse_RDI <- mean((lm_RDI$model$H_incumbent_party_majorvote_pct - lm_RDI$fitted.values)^2)
mse_model <- mean((lm_model$model$H_incumbent_party_majorvote_pct - lm_model$fitted.values)^2)

cat("UE:", sqrt(mse_UE))
cat("\nGDP:", sqrt(mse_GDP))
cat("\nRDI:", sqrt(mse_RDI))
cat("\nMy model:", sqrt(mse_model))

```
\textcolor{red}{This is hard to interpret on its own, more useful in comparison with other models.}

## Model Testing
\pause
Checking in-sample model predictions is a good baseline evaluation, but it feels a bit like "cheating" \pause $\rightsquigarrow$ can we take away the model's "answer key"? \pause

<!--the best test of a model's predictive score -- simulate out-of-sample 
    prediction and check performance against ground-truth; in-sample is sort of 
    easy because it's double dipping the data, this is a harder test!-->

We can simulate \textbf{out-of-sample prediction} (also called out-of-sample testing) by withholding some observation, e.g. $X_{2018}$, before fitting: \pause

```{r}
#My model
outsamp_mod1 <- lm(H_incumbent_party_majorvote_pct ~ GDP_growth_pct,
                    newdf[newdf$year != 2018,])
outsamp_pred <- predict(outsamp_mod1,
                        newdf[newdf$year == 2018,])
outsamp_true <- newdf$H_incumbent_party_majorvote_pct[newdf$year == 2018]
```
\pause and see how well the model predicts the true $Y_{2018}$ for the held-out observation $X_{2018}$:
```{r}
outsamp_pred - outsamp_true
```
Leaving a single observation out and testing the model against the ground truth is, \pause you guessed it, called \textbf{leave-one-out validation}.

## Model Testing

\textbf{Cross-validation}: withhold a *random subset* of the sample, fit model on rest of sample, and evaluate predictive performance on the held-out observations. \pause

<!-- Me: predicts 2016 within 2 points..but ok 2016 was weird -->


```{r}
# GDP
years_outsamp <- sample(newdf$year, 8)
mod <- lm(H_incumbent_party_majorvote_pct ~ GDP_growth_pct,
          newdf[!(newdf$year %in% years_outsamp),])
outsamp_pred <- predict(mod,
                newdata = newdf[newdf$year %in%
                                 years_outsamp,])
```
\pause
```{r}
mean(outsamp_pred - newdf$H_incumbent_party_majorvote_pct[newdf$year %in% years_outsamp])
```
\pause \textcolor{red}{But we don't want to do this just once.}

## Model Testing

Cross-validation involves repeatedly evaluating performance against many randomly held-out "out-of-sample" datasets:

<!-- we can do this many times and see how out-of-sample performance usually is -->
```{r, eval=FALSE}
years_outsamp <- sample(newdf$year, 8)
outsamp_mod <- lm(H_incumbent_party_majorvote_pct ~ GDP_growth_pct, newdf[!(newdf$year %in% years_outsamp),])
outsamp_pred <- predict(outsamp_mod, newdata = newdf[newdf$year %in% years_outsamp,])
outsamp_true <- newdf$H_incumbent_party_majorvote_pct[newdf$year %in% years_outsamp]
mean(outsamp_pred - outsamp_true)
```

## Model Testing

Cross-validation involves repeatedly evaluating performance against many randomly held-out "out-of-sample" datasets:

```{r}
outsamp_errors <- sapply(1:1000, function(i){
    years_outsamp <- sample(newdf$year, 8)
  outsamp_mod <- lm(H_incumbent_party_majorvote_pct ~
                      GDP_growth_pct,
                  newdf[!(newdf$year %in% years_outsamp),])
  outsamp_pred <- predict(outsamp_mod,
                newdata = newdf[newdf$year %in% years_outsamp,])
  outsamp_true <- newdf$H_incumbent_party_majorvote_pct[newdf$year
                                                       %in% years_outsamp]
  mean(outsamp_pred - outsamp_true)
})
```

##  Model Testing

```{r, echo=FALSE, message=FALSE, fig.width=6, fig.height=3, out.width = '70%', fig.align='center'}
hist(outsamp_errors,
     xlab = "",
     main = "mean out-of-sample residual\n(1000 runs of cross-validation)")
```


```{r}
mean(abs(outsamp_errors))
```

```{r}

# Residuals
plot(fitted(lm_model), resid(lm_model))
abline(0, 0)

stargazer(lm_model, type = 'text')

```

## Economy and PV: Out-of-sample prediction (STEP 4 \& 5)

```{r, echo=TRUE, eval=FALSE}

GDP_new <- GDPquarterly_df %>%
    subset(year == 2020 & quarter_cycle == 8) %>%
    select(GDP_growth_pct)
UNRATE_new <- UEquarterly_df %>%
    subset(year == 2020 & quarter_cycle == 4) %>%
    select(UNRATE)
DSPIC_new <- RDIquarterly_df %>%
    subset(year == 2020 & quarter_cycle == 8) %>%
    select(DSPIC_change_pct)
GDP_qt_new <- GDPquarterly_df %>%
    subset(year == 2020 & quarter_cycle == 8) %>%
    select(GDP_growth_qt)

new_data <- data.frame(GDP_new, DSPIC_new, GDP_qt_new, UNRATE_new)

predict(lm_model, new_data, interval="confidence")

newdf %>%
  filter(year == 2020) %>%
  summarise(actual = H_incumbent_party_majorvote_pct)

#Interpretation: This means that, according to our model, a year with these traits, on average, has a (stopping distance ranging between 51.83 and 62.44 ft)46, 54) H incumbent vote share

```

Though my model predicted the House popular vote share of 2020 well, even given the novel nature of the economics of that COVID-ridden election cycle, it still can be improved with wider purview into House incumbent seat share and totals. As discussion in Gov 1347: Election Analytics, for House races, it is often the actual seats in the House that matter to parties and party members. Due 



---

**References**

[1] Achen, & Bartels, L. M. (2017). Democracy for realists (REV - Revised). Princeton University Press.
https://muse.jhu.edu/book/64646

[2] Rakich, N., &amp; Mejia, E. (2022, March 31). The house map's Republican bias will plummet in 2022 - because of gerrymandering. FiveThirtyEight.  https://fivethirtyeight.com/features/the-house-maps-republican-bias-will-plummet-in-2022-because-of-gerrymandering/ 

[3] Vestal, James Allan, et al. (2020). Georgia Results 2020. https://www.politico.com/2020-election/results/georgia/